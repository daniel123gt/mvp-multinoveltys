---
import LayoutPurchase from '../layouts/LayoutPurchase.astro';
---

<LayoutPurchase 
	title="Comprar SENZA - Multi Novelty's LLC | Formulario de Compra"
	description="Compra SENZA - Sistema de Generación de Hidrógeno para Automóviles. Formulario de compra seguro."
	lang="es"
>
	<!-- Hero Section -->
	<section class="pt-32 pb-20 bg-senza-secondary">
		<div class="max-w-4xl mx-auto px-6 text-center">
			<div class="animate-slide-up">
				<h1 class="text-5xl md:text-6xl font-bold mb-6">
					<span class="bg-gradient-to-r from-senza-blue to-senza-light-blue bg-clip-text text-transparent">
						Compra SENZA
					</span>
				</h1>
				<p class="text-xl text-senza-gray mb-8 max-w-2xl mx-auto">
					Completa el formulario para adquirir tu kit de generación de hidrógeno SENZA y revoluciona tu automóvil.
				</p>
			</div>
		</div>
	</section>

	<!-- Product Summary -->
	<section class="py-20 bg-senza-primary">
		<div class="max-w-6xl mx-auto px-6">
			<div class="bg-white rounded-3xl p-8 shadow-xl border border-senza-border">
				<div class="grid lg:grid-cols-2 gap-12 items-center">
					<div>
						<h2 class="text-4xl font-bold text-senza-accent mb-6">Kit SENZA de Hidrógeno</h2>
						<p class="text-lg text-senza-gray mb-8 leading-relaxed">
							El sistema de generación de hidrógeno más avanzado para automóviles. Transforma tu carro en un vehículo ecológico con tecnología de vanguardia.
						</p>
						
						<div class="space-y-4">
							<h3 class="text-2xl font-bold text-senza-accent mb-4">Lo que incluye:</h3>
							<ul class="space-y-3 text-senza-gray">
								<li class="flex items-center space-x-3">
									<span class="w-3 h-3 bg-senza-blue rounded-full"></span>
									<span>Generador de Hidrógeno con Tecnología PEM</span>
								</li>
								<li class="flex items-center space-x-3">
									<span class="w-3 h-3 bg-senza-light-blue rounded-full"></span>
									<span>Microcomputadora Inteligente (chip de 7nm)</span>
								</li>
								<li class="flex items-center space-x-3">
									<span class="w-3 h-3 bg-senza-blue rounded-full"></span>
									<span>Módulo Transformador</span>
								</li>
								<li class="flex items-center space-x-3">
									<span class="w-3 h-3 bg-senza-light-blue rounded-full"></span>
									<span>Tanque de Agua</span>
								</li>
								<li class="flex items-center space-x-3">
									<span class="w-3 h-3 bg-senza-blue rounded-full"></span>
									<span>Separador de Agua y Gas</span>
								</li>
								<li class="flex items-center space-x-3">
									<span class="w-3 h-3 bg-senza-light-blue rounded-full"></span>
									<span>Kit de Instalación Completo</span>
								</li>
							</ul>
						</div>
					</div>
					
					<div class="text-center">
						<img src="/images/foto-real-kit.jpg" alt="Kit SENZA Real - Fotografía del Producto" class="w-full h-auto rounded-2xl shadow-2xl shadow-senza-accent/20">
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Product Components Detail -->
	<section class="py-20 bg-senza-secondary">
		<div class="max-w-6xl mx-auto px-6">
			<div class="text-center mb-16">
				<h2 class="text-4xl font-bold mb-6">
					<span class="bg-gradient-to-r from-senza-blue to-senza-light-blue bg-clip-text text-transparent">
						Componentes del Producto
					</span>
				</h2>
				<p class="text-xl text-senza-gray max-w-3xl mx-auto">
					Cada componente está diseñado con precisión y fabricado con los más altos estándares de calidad.
				</p>
			</div>

			<div class="grid lg:grid-cols-2 gap-12">
				<div class="bg-white rounded-2xl p-6 shadow-lg border border-senza-border">
					<div class="text-center mb-6">
						<img src="/images/pieza-individual-generador-hidrogeno.jpg" alt="Generador de Hidrógeno SENZA" class="w-full max-w-sm mx-auto h-auto rounded-xl shadow-lg shadow-senza-accent/20">
					</div>
					<h3 class="text-2xl font-bold text-senza-accent mb-4 text-center">Generador de Hidrógeno</h3>
					<p class="text-senza-gray leading-relaxed">
						El corazón del sistema. Utiliza tecnología PEM para convertir agua en hidrógeno de alta pureza (99.99%) de manera eficiente y segura.
					</p>
				</div>

				<div class="bg-white rounded-2xl p-6 shadow-lg border border-senza-border">
					<div class="text-center mb-6">
						<img src="/images/pieza-individual-microcomputador.png" alt="Microcomputadora SENZA" class="w-full max-w-sm mx-auto h-auto rounded-xl shadow-lg shadow-senza-accent/20">
					</div>
					<h3 class="text-2xl font-bold text-senza-accent mb-4 text-center">Microcomputadora Inteligente</h3>
					<p class="text-senza-gray leading-relaxed">
						Chip de 7 nanómetros fabricado en Estados Unidos que optimiza automáticamente el rendimiento del motor basado en tus hábitos de conducción.
					</p>
				</div>
			</div>
		</div>
	</section>

	<!-- Purchase Form -->
	<section class="py-20 bg-senza-primary">
		<div class="max-w-4xl mx-auto px-6">
			<div class="bg-white rounded-3xl p-8 shadow-xl border border-senza-border">
				<div class="text-center mb-12">
					<h2 class="text-4xl font-bold text-senza-accent mb-4">Formulario de Compra</h2>
					<p class="text-lg text-senza-gray">
						Completa el formulario a continuación para finalizar tu compra. Te contactaremos dentro de 24 horas.
					</p>
				</div>

				<form id="purchaseForm" class="space-y-8">
					<!-- Package Selection -->
					<div class="bg-senza-secondary rounded-2xl p-6 border border-senza-border">
						<h4 class="text-lg font-semibold text-senza-accent mb-4">Selecciona tu Paquete SENZA</h4>
						
						<div class="grid md:grid-cols-2 gap-4 mb-4">
							<div>
								<label for="tipoPaquete" class="block text-sm font-medium text-senza-gray mb-2">Tipo de Paquete *</label>
								<select id="tipoPaquete" name="tipoPaquete" required 
									class="w-full px-4 py-3 bg-white border border-senza-border rounded-lg text-senza-accent focus:outline-none focus:ring-2 focus:ring-senza-blue">
									<option value="">Seleccionar</option>
									<option value="normal">Normal One - Paquete Estándar</option>
									<option value="allinone">All in One - Con Instalación</option>
								</select>
							</div>
							<div>
								<label for="potencia" class="block text-sm font-medium text-senza-gray mb-2">Potencia Requerida *</label>
								<select id="potencia" name="potencia" required 
									class="w-full px-4 py-3 bg-white border border-senza-border rounded-lg text-senza-accent focus:outline-none focus:ring-2 focus:ring-senza-blue">
									<option value="">Seleccionar</option>
									<option value="h">H Power - Motores 2.7-6.0L</option>
									<option value="m">M Power - Motores 2.0-2.5L</option>
									<option value="l">L Power - Motores 1.0-1.8L</option>
								</select>
							</div>
						</div>

						<!-- Price Display -->
						<div class="bg-gradient-to-r from-senza-blue/10 to-senza-light-blue/10 rounded-lg p-4 border border-senza-blue/20">
							<div class="flex justify-between items-center">
								<span class="text-lg font-medium text-senza-gray">Precio Total:</span>
								<span id="precioTotal" class="text-2xl font-bold text-senza-blue">$0</span>
							</div>
							<div id="detallePrecio" class="text-sm text-senza-gray mt-2"></div>
						</div>
					</div>

					<!-- Personal Information -->
					<div class="grid md:grid-cols-2 gap-6">
						<div>
							<label for="firstName" class="block text-sm font-medium text-senza-gray mb-2">Nombre *</label>
							<input type="text" id="firstName" name="firstName" required 
								class="w-full px-4 py-3 bg-white border border-senza-border rounded-lg text-senza-accent placeholder-senza-light-gray focus:outline-none focus:ring-2 focus:ring-senza-blue focus:border-transparent">
						</div>
						<div>
							<label for="lastName" class="block text-sm font-medium text-senza-gray mb-2">Apellido *</label>
							<input type="text" id="lastName" name="lastName" required 
								class="w-full px-4 py-3 bg-white border border-senza-border rounded-lg text-senza-accent placeholder-senza-light-gray focus:outline-none focus:ring-2 focus:ring-senza-blue focus:border-transparent">
						</div>
					</div>

					<div class="grid md:grid-cols-2 gap-6">
						<div>
							<label for="email" class="block text-sm font-medium text-senza-gray mb-2">Correo Electrónico *</label>
							<input type="email" id="email" name="email" required 
								class="w-full px-4 py-3 bg-white border border-senza-border rounded-lg text-senza-accent placeholder-senza-light-gray focus:outline-none focus:ring-2 focus:ring-senza-blue focus:border-transparent">
						</div>
						<div>
							<label for="phone" class="block text-sm font-medium text-senza-gray mb-2">Número de Teléfono *</label>
							<input type="tel" id="phone" name="phone" required 
								class="w-full px-4 py-3 bg-white border border-senza-border rounded-lg text-senza-accent placeholder-senza-light-gray focus:outline-none focus:ring-2 focus:ring-senza-blue focus:border-transparent">
						</div>
					</div>

					<!-- Address Information -->
					<div>
						<label for="address" class="block text-sm font-medium text-senza-gray mb-2">Dirección *</label>
						<input type="text" id="address" name="address" required 
							class="w-full px-4 py-3 bg-white border border-senza-border rounded-lg text-senza-accent placeholder-senza-light-gray focus:outline-none focus:ring-2 focus:ring-senza-blue focus:border-transparent">
					</div>

					<div class="grid md:grid-cols-3 gap-6">
						<div>
							<label for="city" class="block text-sm font-medium text-senza-gray mb-2">Ciudad *</label>
							<input type="text" id="city" name="city" required 
								class="w-full px-4 py-3 bg-white border border-senza-border rounded-lg text-senza-accent placeholder-senza-light-gray focus:outline-none focus:ring-2 focus:ring-senza-blue focus:border-transparent">
						</div>
						<div>
							<label for="state" class="block text-sm font-medium text-senza-gray mb-2">Estado/Provincia *</label>
							<input type="text" id="state" name="state" required 
								class="w-full px-4 py-3 bg-white border border-senza-border rounded-lg text-senza-accent placeholder-senza-light-gray focus:outline-none focus:ring-2 focus:ring-senza-blue focus:border-transparent">
						</div>
						<div>
							<label for="zipCode" class="block text-sm font-medium text-senza-gray mb-2">Código Postal *</label>
							<input type="text" id="zipCode" name="zipCode" required 
								class="w-full px-4 py-3 bg-white border border-senza-border rounded-lg text-senza-accent placeholder-senza-light-gray focus:outline-none focus:ring-2 focus:ring-senza-blue focus:border-transparent">
						</div>
					</div>

					<!-- Vehicle Information -->
					<div class="grid md:grid-cols-2 gap-6">
						<div>
							<label for="vehicleMake" class="block text-sm font-medium text-senza-gray mb-2">Marca del Vehículo *</label>
							<input type="text" id="vehicleMake" name="vehicleMake" required 
								class="w-full px-4 py-3 bg-white border border-senza-border rounded-lg text-senza-accent placeholder-senza-light-gray focus:outline-none focus:ring-2 focus:ring-senza-blue focus:border-transparent">
						</div>
						<div>
							<label for="vehicleModel" class="block text-sm font-medium text-senza-gray mb-2">Modelo del Vehículo *</label>
							<input type="text" id="vehicleModel" name="vehicleModel" required 
								class="w-full px-4 py-3 bg-white border border-senza-border rounded-lg text-senza-accent placeholder-senza-light-gray focus:outline-none focus:ring-2 focus:ring-senza-blue focus:border-transparent">
						</div>
					</div>

					<div class="grid md:grid-cols-2 gap-6">
						<div>
							<label for="vehicleYear" class="block text-sm font-medium text-senza-gray mb-2">Año del Vehículo *</label>
							<input type="number" id="vehicleYear" name="vehicleYear" min="1990" max="2025" required 
								class="w-full px-4 py-3 bg-white border border-senza-border rounded-lg text-senza-accent placeholder-senza-light-gray focus:outline-none focus:ring-2 focus:ring-senza-blue focus:border-transparent">
						</div>
						<div>
							<label for="vehicleEngine" class="block text-sm font-medium text-senza-gray mb-2">Tipo de Motor *</label>
							<select id="vehicleEngine" name="vehicleEngine" required 
								class="w-full px-4 py-3 bg-white border border-senza-border rounded-lg text-senza-accent focus:outline-none focus:ring-2 focus:ring-senza-blue focus:border-transparent">
								<option value="">Seleccionar Tipo de Motor</option>
								<option value="gasolina">Gasolina</option>
								<option value="diesel">Diesel</option>
								<option value="hibrido">Híbrido</option>
								<option value="otro">Otro</option>
							</select>
						</div>
					</div>

					<!-- Additional Information -->
					<div>
						<label for="message" class="block text-sm font-medium text-senza-gray mb-2">Información Adicional</label>
						<textarea id="message" name="message" rows="4" 
							class="w-full px-4 py-3 bg-white border border-senza-border rounded-lg text-senza-accent placeholder-senza-light-gray focus:outline-none focus:ring-2 focus:ring-senza-blue focus:border-transparent"
							placeholder="Cuéntanos sobre tus necesidades específicas o cualquier pregunta que puedas tener..."></textarea>
					</div>

					<!-- Terms and Conditions -->
					<div class="flex items-start space-x-3">
						<input type="checkbox" id="terms" name="terms" required 
							class="mt-1 w-5 h-5 text-senza-blue border-senza-border rounded focus:ring-senza-blue focus:ring-2">
						<label for="terms" class="text-sm text-senza-gray">
							Acepto los <a href="#" class="text-senza-blue hover:underline">Términos y Condiciones</a> y la <a href="#" class="text-senza-blue hover:underline">Política de Privacidad</a> *
						</label>
					</div>

					<!-- Submit Button -->
					<div class="text-center">
						<button type="submit" 
							class="bg-gradient-to-r from-senza-blue to-senza-light-blue text-white px-12 py-4 rounded-lg text-lg font-semibold hover:from-senza-dark-blue hover:to-senza-blue transition-all shadow-xl hover:shadow-2xl transform hover:scale-105">
							Enviar Solicitud de Compra
						</button>
					</div>
				</form>
			</div>
		</div>
	</section>

	<!-- Contact Information -->
	<section class="py-20 bg-senza-secondary">
		<div class="max-w-4xl mx-auto px-6 text-center">
			<h2 class="text-4xl font-bold text-senza-accent mb-8">¿Necesitas Ayuda?</h2>
			<div class="grid md:grid-cols-3 gap-8">
				<div class="bg-white rounded-2xl p-6 shadow-lg border border-senza-border">
					<div class="w-16 h-16 bg-senza-blue rounded-full flex items-center justify-center mx-auto mb-4">
						<svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
						</svg>
					</div>
					<h3 class="text-xl font-bold text-senza-accent mb-2">Correo Electrónico</h3>
					<p class="text-senza-gray">info@senza.com</p>
				</div>
				
				<div class="bg-white rounded-2xl p-6 shadow-lg border border-senza-border">
					<div class="w-16 h-16 bg-senza-light-blue rounded-full flex items-center justify-center mx-auto mb-4">
						<svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
						</svg>
					</div>
					<h3 class="text-xl font-bold text-senza-accent mb-2">Teléfono</h3>
					<p class="text-senza-gray">+1 (555) 123-4567</p>
				</div>
				
				<div class="bg-white rounded-2xl p-6 shadow-lg border border-senza-border">
					<div class="w-16 h-16 bg-senza-dark-blue rounded-full flex items-center justify-center mx-auto mb-4">
						<svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
						</svg>
					</div>
					<h3 class="text-xl font-bold text-senza-accent mb-2">Tiempo de Respuesta</h3>
					<p class="text-senza-gray">Dentro de 24 horas</p>
				</div>
			</div>
		</div>
	</section>

	<script>
		// Form validation and submission
		const form = document.getElementById('purchaseForm') as HTMLFormElement;
		if (form) {
			form.addEventListener('submit', function(e) {
				e.preventDefault();
				
				// Basic form validation
				const requiredFields = this.querySelectorAll('[required]') as NodeListOf<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>;
				let isValid = true;
				
				requiredFields.forEach(field => {
					if (!field.value.trim()) {
						isValid = false;
						field.classList.add('border-red-500');
					} else {
						field.classList.remove('border-red-500');
					}
				});
				
				// Email validation
				const email = document.getElementById('email') as HTMLInputElement;
				if (email) {
					const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
					if (!emailRegex.test(email.value)) {
						isValid = false;
						email.classList.add('border-red-500');
					}
				}
				
				// Phone validation
				const phone = document.getElementById('phone') as HTMLInputElement;
				if (phone) {
					const phoneRegex = /^[\+]?[1-9][\d]{0,15}$/;
					if (!phoneRegex.test(phone.value.replace(/\s/g, ''))) {
						isValid = false;
						phone.classList.add('border-red-500');
					}
				}
				
				if (isValid) {
					// Simulate form submission
					alert('¡Gracias por tu solicitud de compra! Te contactaremos dentro de 24 horas para confirmar tu pedido y proporcionarte las instrucciones de pago.');
					
					// Reset form
					this.reset();
				} else {
					alert('Por favor completa todos los campos requeridos correctamente.');
				}
			});
		}

		// Remove error styling on input
		document.querySelectorAll('input, select, textarea').forEach(field => {
			field.addEventListener('input', function(this: HTMLElement) {
				this.classList.remove('border-red-500');
			});
		});

		// Price Calculator for Purchase Form
		const pricingData = {
			normal: {
				h: { min: 2.7, max: 6.0, price: 1990 },
				m: { min: 2.0, max: 2.5, price: 1850 },
				l: { min: 1.0, max: 1.8, price: 1650 }
			},
			allinone: {
				h: { min: 2.7, max: 6.0, price: 2150 },
				m: { min: 2.0, max: 2.5, price: 1900 },
				l: { min: 1.0, max: 1.8, price: 1780 }
			}
		};

		function updatePrice() {
			const packageType = document.getElementById('tipoPaquete')?.value;
			const power = document.getElementById('potencia')?.value;
			const priceDisplay = document.getElementById('precioTotal');
			const detailDisplay = document.getElementById('detallePrecio');

			if (!packageType || !power || !priceDisplay) return;

			const packageData = pricingData[packageType];
			if (packageData && packageData[power]) {
				const price = packageData[power].price;
				priceDisplay.textContent = `$${price.toLocaleString()}`;
				
				const packageName = packageType === 'normal' ? 'Normal One' : 'All in One';
				const powerName = power.toUpperCase() + ' Power';
				const engineRange = packageData[power];
				detailDisplay.textContent = `${packageName} - ${powerName} (${engineRange.min}-${engineRange.max}L)`;
			} else {
				priceDisplay.textContent = '$0';
				detailDisplay.textContent = '';
			}
		}

		document.addEventListener('DOMContentLoaded', function() {
			const packageSelect = document.getElementById('tipoPaquete');
			const powerSelect = document.getElementById('potencia');

			if (packageSelect) {
				packageSelect.addEventListener('change', updatePrice);
			}
			if (powerSelect) {
				powerSelect.addEventListener('change', updatePrice);
			}
		});
	</script>
</LayoutPurchase>